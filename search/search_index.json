{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"SAP02 Prep Notes","text":""},{"location":"#services","title":"Services","text":"<p>IAM </p> <p>S3 Basics </p> <p>S3 SSE </p> <p>S3 Storage Classes</p>"},{"location":"#security","title":"Security","text":"<p>KMS</p>"},{"location":"#misc","title":"Misc","text":"<p>Bookmarks </p> <p>WellArchitected </p> <p>Topics MindMaP </p>"},{"location":"#must-revisit-lectures","title":"Must Revisit Lectures","text":"<p>VPCRouting And InternetGateway</p> <p>Implement DNSSec with R53</p>"},{"location":"Misc/bookmarks/","title":"Bookmarks","text":""},{"location":"Misc/bookmarks/#iam-policy-variables","title":"IAM policy Variables","text":"<p>IAMPolicyVariables</p>"},{"location":"Misc/bookmarks/#ebs-encryption","title":"EBS Encryption","text":"<p>[EBS Encryption][https://learn.cantrill.io/courses/1820301/lectures/41301330]</p>"},{"location":"Misc/topicsmindmap/","title":"Topicsmindmap","text":"<pre><code>mindmap\n  root((SA))\n    Access Management\n      IAM\n      Organizations\n      SST\n    Compute\n      EC2\n      Lambda\n      ECS\n    Storage\n      S3\n    Relational Databases\n      RDS\n    Non Relational Databases\n      DynamoDB\n    Networking\n      VPC\n</code></pre>"},{"location":"Misc/wellarchitected/","title":"AWS Well Architected Framework","text":""},{"location":"Misc/wellarchitected/#pillars","title":"Pillars","text":"<ul> <li>Operational Excellence</li> <li>Security</li> <li>Reliability</li> <li>Performance</li> <li>Cost effectiveness</li> </ul>"},{"location":"Misc/wellarchitected/#15-questions","title":"15 Questions","text":""},{"location":"security/kms/","title":"KMS","text":""},{"location":"security/kms/#introduction","title":"Introduction","text":"<ul> <li>Regional &amp; Public Service</li> <li>KMS keys never leave KMS</li> <li>KMS is FIPS 140-2(L2) compliant</li> <li>KMS keys contain physical key material, ID, creation date, resource policy, description &amp; state</li> <li>KMS keys can be used to encrypt upto 4kb of data</li> <li>Permissions to Create a Key, Encrypt &amp; Decrypt are seperate</li> </ul>"},{"location":"security/kms/#dekdata-encryption-keys","title":"DEK(Data Encryption Keys)","text":"<ul> <li>DEKs are generated by KMS using KMS keys using GenerateDataKey operation</li> <li>The KMS does not store DEKs but gives them to you to store them.</li> </ul>"},{"location":"security/kms/#encryption-flow","title":"Encryption Flow","text":"<pre><code>graph LR\nA[KMS] -- GenerateDEK --&gt; B(DEKs)\nB --&gt; C(Plain Text Version)\nB --&gt; D(Cipher Text Version)\nC -- Encrypt --&gt; E(Encrypted Data) \nC -- After Encryption --&gt; F(Discard PlaintText) \nD -- Plus --&gt; E --&gt; G(Store on Disk)</code></pre>"},{"location":"security/kms/#decryption-flow","title":"Decryption Flow","text":"<pre><code>graph LR\nA[Encrypted Data &amp; Key] -- Decrypt Key --&gt; B(KMS) --&gt; C(Decrypted Key)\nC -- Decrypt Data --&gt; D(KMS) --&gt; E(Decrypted Data)</code></pre>"},{"location":"security/kms/#key-concepts","title":"Key Concepts","text":"<ul> <li>A KMS key is stored within the region &amp; that service</li> <li>KMS key never leaves the region or service</li> <li>KMS also supports multi region keys</li> <li>There are two types of KMS keys<ul> <li>AWS Owned</li> <li>Customer Owned<ul> <li>AWS Managed - Created automatically by AWS</li> <li>Customer Managed - Created by customers</li> <li>Both support key rotation. With AWS managed keys this cant be disabled. Happens approximately once a year</li> <li>With Customer Managed keys, rotation is on by default but can be disabled</li> <li>A KMS key continues to maintain old rotated keys, so that data encrypted by old keys can still be decrypted.</li> </ul> </li> </ul> </li> </ul>"},{"location":"security/kms/#key-policies","title":"Key Policies","text":"<ul> <li>Every KMS key has one resource policy</li> <li>For KMS keys trust policy for the account they are contained within must be explicitly added</li> </ul>"},{"location":"services/iam/","title":"IAM","text":""},{"location":"services/iam/#arn-amazon-resource-name","title":"ARN - Amazon Resource Name","text":"<p>ARN Formats </p> <ul> <li>arn:partition:service:region:account-id:resource-id</li> <li>arn:partition:service:region:account-id:resource-type/resource-id</li> <li>arn:partition:service:region:account-id:resource-type:resource-id</li> <li>e.g arn:aws:s3:::catgifs</li> </ul>"},{"location":"services/iam/#basic","title":"Basic","text":"<ul> <li>Only 5000 IAM users are allowed per account</li> <li>IAM users can be part of max 10 groups only</li> <li>IAM Groups can not be referred in resource policieis as they are not real identities</li> <li>Each account has default 300 limit for number of groups</li> </ul>"},{"location":"services/iam/#iam-roles","title":"IAM Roles","text":"<ul> <li>Trust Policies - They control which identity can assume a role</li> <li>STS generates temporary security credentials when a Principal assumes a role based on Trust Policy</li> <li>Whenever a service needs to assume a role it invokes sts::AssumeRole operation</li> <li>When should you use roles?<ul> <li>Existing identities or more than 5000 identities need to be supported</li> <li>When using identity federation</li> <li>Giving access to identities from other AWS accounts</li> </ul> </li> <li>A service linked role <ul> <li>is an IAM role directly linked to a specific service</li> <li>Predefined by the services</li> <li>Might be created by the service itself</li> <li>Service might allow you to create the role</li> <li>Service linked role can not be deleted unless it is being used in the service</li> <li>If you want to give an identity ability to use a service linked role but not create &amp; update it, then it needs to have \"iam:PassRole\" permission</li> </ul> </li> </ul>"},{"location":"services/iam/#aws-organizations","title":"AWS Organizations","text":"<ul> <li>An aws account when created by default is a standard account not part of any organization</li> <li>An AWS account can create an AWS Organization</li> <li>The account thats creates the organization becomes Management Account or Master Account OR Payer Account for the organization</li> <li>Reservations &amp; Volume discounts are consolidated at Organization level</li> <li>When a standard account joins an AWS Organization, it becomes a Member Account &amp; stops being a standard account</li> <li>At top of Organizational Tree, there is a Organizational Root which is a container for other containers or other accounts</li> <li>The containers other that Organization Root are called as Organizational Unit or OU</li> </ul>"},{"location":"services/iam/#service-control-policies-scp","title":"Service Control Policies (SCP)","text":"<ul> <li>Management Account is never affected by SCP even if there is one attached to it</li> <li>SCPs are account permissions boundaries</li> <li>They limit what an account can do</li> <li>While an Account Root User can do everything in an Account, with SCP if a restriction is placed on an Account, Root User will have full control within those restrictions</li> <li>SCP's can operate either as Allow List or a Deny List. The deny is a deny list</li> <li>When SCP are enabled, the default policy called \"Full AWS Access\". i.e. in default implementation, nothing is restricted</li> <li>Implementing Allow Lists involves disabling default FullAWSAccess. Then add services which you want to be enabled.</li> </ul>"},{"location":"services/EC2/1-Basics/","title":"EC2 Basics","text":"<ul> <li>EC2 is an AZ Resilient service</li> <li>EC2 instances can have multiple network interfaces in different subnets as long as they are in same AZ</li> <li>EBS runs inside a specific AZ</li> <li>An instance is tied to a host &amp; if you restart an instance, it starts on same host</li> <li>The host changes either if the physical hardware of host fails or if the instance is stopped and then started.</li> <li>You can not connect network interfaces or EBS present in one AZ with instance in another AZ</li> <li>Every instance has 2 status checks<ul> <li>System Status - Issues impacting either EC2 service or the Host</li> <li>Instance Status - Problems with specific instance</li> </ul> </li> <li>Instance Metadata - http://169.254.169.255/latest/meta-data. Following metadata is available<ul> <li>Environment</li> <li>Netowrking</li> <li>Authentication</li> <li>User Data</li> </ul> </li> <li>Metadata service itself is not authenticated or encrypted</li> <li>Userdata url is - http://169.254.169.254/latest/user-data. </li> <li>Userdata can be 16kb max</li> <li>Userdata can be consumed once i.e. at time of launch</li> <li>cfn-init is helper script used for EC2 initialization</li> <li>cfn-init is invoked from user data</li> <li>cfn-init works with stack updates i.e. it observes instance meta data. When the meta data changes cfn-init can take actions</li> <li>Creation Policy - It is added to a logical resource (e.g EC2Instance) in a CF template. The ResourceSignal attribute in the logical resource is used to make the Resource send a signal to CF.</li> <li>cfn-signal command reports success or failure of cfn-init.</li> </ul>"},{"location":"services/EC2/2-InstanceTypes/","title":"Instance Types","text":""},{"location":"services/EC2/3-Storage/","title":"Storage","text":"<ul> <li>Block Storage - No structure. Just a collection of blocks. Bootable &amp; Mountable</li> <li>File Storage - Defined structure.Mountable. Not Bootable</li> <li>Object Storage - Collection of Object.flat, no structure. Not mountable , Not bootable</li> </ul>"},{"location":"services/EC2/3-Storage/#storage-performance","title":"Storage Performance","text":"<ul> <li>The performance is defined with 3 parameters<ul> <li>Block Size (kb or mb), IOPS( I/O operations/sec),  Throughput(MB/s)</li> <li>ThroughtPut = Block Size * IOPS</li> </ul> </li> </ul>"},{"location":"services/EC2/4-EBS/","title":"Elastic Block Storage","text":"<ul> <li>This is basic block storage with no structure</li> <li>A file system like ext3/4 or ntfs can be created on this as per requirements</li> <li>Storage is provisioned in one AZ i.e. resilient in an AZ</li> <li>EBS volumes are usually attached to 1 EC2 instance or some other services at one time. Other than specific cases of clustering where they are managed by a cluster application, they can not be attached to multiple instances</li> <li>EBS volumes can be detached from one &amp; attached to a different instance </li> <li>IF you backup an EBS volume into a snapshot stored on S3, then given nature of S3 this backup is regionally resilient.</li> <li>The billing is at GB-month of storage</li> <li>You can combine various EBS volume types into a RAID0 set. This gets combined performance of all those volumes, upto max of 260,000 IOPS</li> </ul>"},{"location":"services/EC2/4-EBS/#ebs-volume-types","title":"EBS Volume Types","text":""},{"location":"services/EC2/4-EBS/#general-purpose-ssd-gp2","title":"General Purpose SSD - GP2","text":"<ul> <li>Volume sizes can vary from 1GB to 16TB</li> <li>When a GP2 volume it is created with an IO Credit allocation</li> <li>IO = 1 Input/Ourput Operation</li> <li>1 IO Credit = 16 KB Chunk of data</li> <li>An IO Credit Bucket has capacity of 5.4 million credits.</li> <li>The minimum replinshment rate of IO Credit bucket is 100 Credits/Second</li> <li>Additionally the bucket gets 3 IO Credits per Second per GB of Volume size</li> <li>GP2 can burst upto 3000IOPS over and above the baseline rate</li> <li>Volumes upto 1TB use this IO Credit mechanism</li> <li>The maximum for GP2 volumes is 16000 IOPs &amp; 250 MB/s of tranfer rates</li> <li>For larger volumes, the additional IOPS are added automatically</li> </ul>"},{"location":"services/EC2/4-EBS/#general-purpose-ssd-gp3","title":"General Purpose SSD - GP3","text":"<ul> <li>Volume sizes can vary from 1GB to 16TB</li> <li>GP3 does not have concept of credit bucket</li> <li>All the volumes start with 3000 IOPS for all sizes of volumes. It can transfer at 125 MB/s</li> <li>The GP3 is 20% cheaper than GP2 upto 3000 IOPS</li> <li>There are extracosts for IOPS upto 16000 or transfer rates of 1000 MB/s</li> <li>Unlike GP2 for larger volumes the IOPS are not added automatically. They cost extra &amp; need to be added manually</li> </ul>"},{"location":"services/EC2/4-EBS/#provisioned-iops-ssd-io1","title":"Provisioned IOPS SSD - IO1","text":"<ul> <li>IOPS are configurable irrespective of the size of the volume</li> <li>With IO1(and IO2) you can get maximum of 64000 IOPS &amp; 1000 MB/s if transfer rates</li> <li>IO2 Block Express can give 256000 IOPS &amp; 4000 MB/s transfer rates</li> <li>Volume sizes - IO1/2 - 4 GB to 16 TB. With IO2 BlockExpress 4 GB to 64 TB</li> <li>Maximum limits are there for size to performance ratio. For IO1 it is 50IOPS/GB (vs 3IOPS/Gb for GP2), IO2 500IOPS/GB, IO2 Express 1000 IOPS/GB</li> </ul>"},{"location":"services/EC2/4-EBS/#hdd-based-volumes","title":"HDD Based Volumes","text":"<ul> <li>You can not use them as boot volumes</li> <li>Two types of HDD based volumes are <ul> <li>st1 - ThroughtPut Optimized</li> <li>sc1 - Cold HDD</li> </ul> </li> <li>Good for sequentially accessed data but not good for Random Access</li> <li>IOP on HDD is measured in 1 MB blocks</li> <li>st1 - 125GB to 16 TB. Max 500 IOPS</li> <li>st1 - Base performance is 40MB/s/TB base. 250MB/s/TB Burst.</li> <li>sc1 - 125GB to 16 TB.Max 250 IOPS, 12 MB/s/TB base, 80 MB/s/TB Burst. Max 250 MB/s</li> </ul>"},{"location":"services/EC2/4-EBS/#instance-store-volumes","title":"Instance store volumes","text":"<ul> <li>Block storage devices. Attached at time of instance launch</li> <li>These are physically connected to 1 EC2 host</li> <li>Instances on same host can access the volume</li> <li>Highest storage performance in AWS</li> <li>Price is included in instance cost</li> <li>These are ephemeral volumes</li> <li>Instances when moved between hosts are given new blank ephemeral volumes</li> </ul>"},{"location":"services/EC2/4-EBS/#points-to-remember","title":"Points to Remember","text":""},{"location":"services/EC2/4-EBS/#ebs-snapshots","title":"EBS Snapshots","text":"<ul> <li>Incremental copies of EBS volumes to S3</li> <li>First snapshot is copy of full data of a volume. All future snapshots are incremental</li> <li>IF an incremental snapshot is deleted, EBS makes sure that all subsequent snapshots still work</li> <li>EBS restores snapshots lazily i.e. fetched gradually. </li> <li>If data that is missing on snapshot right now, it is pulled from S3.</li> <li>Fast Snapshot Restore (FSR) ensures instant snapshot restore</li> <li>50 FSR per region are allowed</li> <li>FSR costs additionally</li> <li>billed in GB-month of used data , not allocated data</li> </ul>"},{"location":"services/EC2/5-ENI/","title":"Elastic Network Interface","text":"<ul> <li>Each EC2 instances comes with a default ENI attached to it</li> <li>You can add more ENIs to that instance each pointing to different Subnets but all of them have to be in same AZ as EC2</li> <li>Many things that appear to be attached to an EC2 instance are acutally attached to the ENI. Some examples - <ul> <li>MAC Address</li> <li>Primary IPV4 Private Address</li> <li>0 or more secondary private IP addresses</li> <li>0 or 1 Public IPV4 address</li> <li>1 elastic IP address per Private IP address</li> <li>0 or more IPV6 addresses</li> <li>Security Groups</li> <li>Source &amp; Destination checks</li> </ul> </li> <li>Secondary ENI have all capabilities are primary. Addtionally they can be detached from one instance &amp; attached to other</li> <li>Secondary ENI + MAC = Licensing</li> <li>IPV4 Public ip addresses are dynamically allocated. It does not change when you restart an instance but changes when you stop &amp; start the instance</li> <li>Public DNS resolves to primary private IPVs address inside VPC, everywhere else it resolves to public IP address</li> <li>When you assign an Elastic IP to an ENI, its public IPV4 address is removed and vice versa</li> </ul>"},{"location":"services/EC2/6-AMI/","title":"Amazon Machine Image","text":"<ul> <li>AMIs are regional. It has unique id in every region. It can be only used in the region it is available</li> <li>Whenever you create an Image (i.e AMI) from an existing EC2 instances, the device id as well as snapshot of current data of all the attached devices i.e. both boot as well as data devices is copied in that Image</li> <li>Whenever you create and instance from the above image, it will get the exactly same image ids as well as data as was present when Image was created.</li> <li>AMI Baking - Create an AMI from a configured instance along with applications installed on it</li> <li>AMI once created can't be edited/updated</li> <li>AMI billing includes billing for EBS snapshots</li> <li>By default AMI is private i.e. can be only accessed by Account that created it</li> </ul>"},{"location":"services/EC2/7-PurchanseOptions/","title":"EC2 Purchase Options","text":"<ul> <li>On Demand</li> <li>Spot</li> <li>Reserved<ul> <li>Scheduled Reserved Instances</li> </ul> </li> <li>Dedicated Hosts</li> <li>Dedicated Instances</li> <li>Capacity Reservations - Following priority is followed to meet committments<ul> <li>Reserved Capacity</li> <li>On Demand</li> <li>Spot</li> </ul> </li> <li>Regional reservations provide billing discount but dont reserve capacity. In terms of priority it competes with On Demand instances</li> <li>Zonal reservations provide both billing discount as well as reserve capacity. But this is limited to AZ</li> <li>On Demand Capacity Reservations entails no billing discount but they gurantee capacity. Any unused capacity is billed irrespective.</li> <li>Savings plan - This is hourly spend committment irrespective of instance type</li> <li>Savings plan can be for general compute ( e.g. EC2, Lambda, Fargate) or EC2 savings plan</li> </ul>"},{"location":"services/EC2/8-Misc/","title":"Miscellanious Topics","text":""},{"location":"services/EC2/8-Misc/#instance-role","title":"Instance Role","text":"<ul> <li>Instance Profile is a wrapper around Instance Role.</li> <li>When you create an Instance Role in console , Instance Profile with same name is created automatically</li> <li>When you create an Instance Role from command line or CF , then Instance Profile needs to be created seperately</li> <li>When you attach an Instance Role from console UI to an EC2 instance, you are attaching an Instance Profile, which is attached to an Instance Role</li> <li>These security credentials are available in Instance metadat under iam/security-</li> </ul>"},{"location":"services/EC2/8-Misc/#systems-manager-parameter-store","title":"Systems Manager Parameter Store","text":"<ul> <li>Allows 3 types of parameters String,SringList, SecureString</li> <li>Supports Hierarchies of Parameters , Versioning of Parameters, Plain &amp; Cipher Text parameters</li> <li>Changes to parameters can trigger events</li> </ul>"},{"location":"services/EC2/8-Misc/#system-application-logging","title":"System &amp; Application Logging","text":""},{"location":"services/EC2/8-Misc/#ec2-placement-groups","title":"EC2 Placement Groups","text":"<ul> <li>Cluster Placement Groups<ul> <li>All instances are in same AZ, generally use the same rack &amp; often the same host</li> <li>Lowest Latency &amp; Highest Packets per Second possible</li> <li>Can span VPC peers but impacts performance significantly</li> <li>10 GPS single stream performance</li> </ul> </li> <li>Spread Placement Groups<ul> <li>Spread across AZs &amp; within each AZ different Rack</li> <li>Maximum 7 instances per AZ</li> <li>Provides Infrastructure Isolation</li> </ul> </li> <li>Partition Placement Groups<ul> <li>Partitions are spread across AZs</li> <li>Each partiton has different Rack. No shared rack between Partitions</li> <li>Maximum 7 partitions are allowed in each AZ</li> <li>You can target specific partitions for specific EC2 instances</li> </ul> </li> </ul>"},{"location":"services/EC2/8-Misc/#ec2-dedicated-hosts","title":"EC2 Dedicated Hosts","text":"<ul> <li>Each host is for a specific family</li> <li>Entire host is dedicated for you hence there is no per instance charge</li> <li>RHEL, Suse &amp; Windows AMIs are not supported</li> <li>Amazon RDS instances are not supported</li> <li>Placement groups are not supported</li> <li>They can be shared with other accounts in your ORG using RAM ( Resource Access Manager)</li> </ul>"},{"location":"services/EC2/8-Misc/#enhanced-networking","title":"Enhanced Networking","text":"<ul> <li>Uses SR-IOV : Single Route IO Virtualization</li> <li>Higher I/O &amp; Lower Host CPU utilization</li> <li>Higher Bandwidth</li> </ul>"},{"location":"services/EC2/8-Misc/#ebs-optimized-instances","title":"EBS Optimized Instances","text":"<ul> <li>Generally same network is used for EBS &amp; Data</li> <li>With EBS Optimized , dedicated network capacity for EBS is provided</li> </ul>"},{"location":"services/ECS/1-Basics/","title":"ECS Basics","text":"<ul> <li>ECS runs containers either in EC2 mode or Fargate mode</li> <li>A Task in ECS represents an application as a whole. So it can contain one or more container definitions</li> <li>Task Role defines an IAM role that the ECS task can assume to execute various operations</li> <li>ECS Service Definition tells how a task can be scaled in ECS</li> <li>Service how many copies of a task should run</li> <li>ECS Cluser runs within a VPC. So it can use all the AZs that the VPC spans</li> </ul>"},{"location":"services/ECS/2-Kubernetes/","title":"Kubernetes","text":"<ul> <li>Cluster - A deployment of Kubernetes</li> <li>Nodes - Provide Compute Resources. Pods are placed on nodes to run</li> <li>Pods - 1 or more containers. Smallest unit in Kubernetes. Non permanent/fungible</li> <li>Service - Abstraction about Pods</li> <li>Jobs - ad-hoc, creates on or more pods &amp; exits after complition</li> <li>Ingress - Exposes a way into a service</li> <li>Ingress Controller - used to provide Ingress to underlying hardware</li> <li>Persistent Storage (PV) - Volume whose lifecyle lives beyond any of the pods using it</li> </ul>"},{"location":"services/ECS/2-Kubernetes/#elastic-kubernetes-service-eks","title":"Elastic Kubernetes Service ( EKS )","text":""},{"location":"services/Route53/1-Basics/","title":"Route53 Basics","text":"<ul> <li>R53 Hosted Zone is a DNS database for a domain</li> <li>It is globally resilient  </li> <li>Name Server records for a domain are entered in the top level hosted zone</li> <li>For a public zone R53 allocates 4 Name Servers. These name servers are accessible from public internet. They are also accessible from AWS VPCs using R53 resolver.</li> <li>R53 can be used to host zone files for externally registered domains</li> <li>Private Hosted Zone is not publicly accessible but only accessible to VPCs associated with the Private Hosted Zone</li> <li>In case of Split View, resource records associated with Public Zone are accessible publicly but associated with Private Zone are accessible only inside associated VPCs.</li> <li>In DNS records an A record maps name to an IP address. A CNAME maps a name to another name</li> <li>CNAMEs can not be used with a naked/apex domain name.</li> <li>R53 alias maps a name to an AWS resource. It can be used for apex domain as well as other records</li> </ul>"},{"location":"services/Route53/2-RoutingPolicies/","title":"Routing Policies","text":""},{"location":"services/Route53/2-RoutingPolicies/#simple-routing","title":"Simple Routing","text":"<ul> <li>You can create 1 record per name</li> <li>Each record can have multiple values. E.g. An A record can map one name to multiple IPs.</li> <li>When client requests a name to be resolved, all values are returned in a random order.</li> <li>Simple routing does not support health checks</li> </ul>"},{"location":"services/Route53/2-RoutingPolicies/#health-checks","title":"Health Checks","text":"<ul> <li>Health checks are performed by checkets located globally</li> <li>The checks are performed every 30seconds by default. Can be increased to every 10 seconds at a cost</li> <li>TCP, HTTP/HTTPS(200 checks), HTTP/HTTPS with String matching checks are supported</li> </ul>"},{"location":"services/Route53/2-RoutingPolicies/#failover-routing","title":"Failover Routing","text":"<ul> <li>A name has primary value and secondary value</li> <li>When a healthcheck fails on a resource, the client is routed to a secondary resource</li> </ul>"},{"location":"services/Route53/2-RoutingPolicies/#multivalue-routing","title":"MultiValue Routing","text":"<ul> <li>Create many records with same name. e.g. multible A records</li> <li>When querried by a client upto 8 records are returned</li> <li>Only healthy records are returned and those who fail healthchecks</li> </ul>"},{"location":"services/Route53/2-RoutingPolicies/#weighted-routing","title":"Weighted Routing","text":"<ul> <li>This is used as simple load balancing or to test new versions of software</li> <li>Has many records with same name</li> <li>Each record has weightage assigned.</li> <li>Frequency record is returned is defined as record weight/total weight</li> <li>IF a record is unhealthy when selected, its skipped and selection again happens</li> </ul>"},{"location":"services/Route53/2-RoutingPolicies/#latency-routing","title":"Latency Routing","text":"<ul> <li>Used when trying to optimize for performance and user experience</li> <li>Multiple records defined for each name</li> <li>Along with the records, region for that record is specified</li> <li>One record for one name per region is allowed</li> <li>This does not account for local latency problems</li> </ul>"},{"location":"services/Route53/2-RoutingPolicies/#geolocation-routing","title":"Geolocation Routing","text":"<ul> <li>Location of users &amp; location of resource is used to decide routing</li> <li>While creating records, they need to be tagged with location. Like Country, Continent, US States or Default</li> <li>The record matching happens in State,Countr,Continent order. Any record is matched, then that is returned.</li> <li>If no match happens , then default record is returned</li> <li>IF no match happens &amp; default record is not defined, no record is returned.</li> <li>This does not return the \"closest\" record but only the applicable based on rule defined</li> <li>Useful for restricting content by location or provide language specific content</li> </ul>"},{"location":"services/Route53/2-RoutingPolicies/#geoproximity-routing","title":"GeoProximity Routing","text":"<ul> <li>GeoProximity calculates the distance between the client &amp; the resource</li> <li>For AWS resources, define its region. For other resources define latitude and longitude</li> <li>A Plus or a Minus bias can be defined. With a plus bias the distance that a resource can be increased while with minut it can be decreased</li> </ul>"},{"location":"services/Route53/3-DNSSec/","title":"3 DNSSec","text":"<ul> <li>Data Origina Authentication - Is the data really from the source you think it is</li> <li>Data Integrity Protection - Data hasn't been modified in transit</li> <li>DNSSec doesn't correct anything. It only validates if something is genuinely from a source or not or it has been altered or not.</li> <li>KMS creates a KSK i.e. Key Signing Key.In Route53 , AWS creates ZSK i.e. Zone Signing Key</li> <li>R53 KSK &amp; ZSK public parts into  DNS Key Record.</li> </ul>"},{"location":"services/S3/1-S3Basics/","title":"S3 Basics","text":"<ul> <li>S3 is private by default. Only the account root user has access to an S3 bucket by default</li> <li>One can be given access to S3 using Resource Policy</li> <li>Resource policies can allow or deny access to identities outside their own account vs identity policies which can give or deny access to identities only within their account</li> <li>Resource policies can give anonymous access</li> <li>ACLs are one more way of managing access to S3, but AWS does not recommend this</li> </ul>"},{"location":"services/S3/1-S3Basics/#object-versioning","title":"Object Versioning","text":"<ul> <li>Controlled at bucket level, starts of as disabled</li> <li>It can be enabled but once enabled it can not be disabled</li> <li>It can be suspended and then re-enabled</li> <li>When versioning of a bucket is disabled, id of that bucket is null</li> <li>When versioning is enabled, everytime a new version is uploaded, an object with new version is created</li> <li>S3 does not change the old version or its id but points to this new id as the current version</li> <li>If an object is accessed without mentioning id, its current version is returned</li> </ul>"},{"location":"services/S3/1-S3Basics/#deletion-of-versioned-objects","title":"Deletion of versioned objects","text":"<ul> <li>If delete is requested of a versioned object without specifying a version, S3 simply adds a new special version of the object called delete marker. This simply hides the object</li> <li>If you delete , delete marker the deletion is undone</li> <li>When you delete an object by using id, that specified id only deleted</li> <li>When you delete the current version, immedite previous version becomes the current version</li> <li>All versions of the object occupy space &amp; hence billed independently</li> <li>Even if versioning is disabled, all existing version continue to occupy space &amp; hence billed</li> </ul>"},{"location":"services/S3/1-S3Basics/#performance-optimization","title":"Performance Optimization","text":""},{"location":"services/S3/1-S3Basics/#single-put-upload","title":"Single PUT upload","text":"<ul> <li>This uploads using single stream of data</li> <li>S3 limits object size to 5GB for single PUT upload</li> </ul>"},{"location":"services/S3/1-S3Basics/#multipart-upload","title":"Multipart Upload","text":"<ul> <li>Minimum upload size is 100MB</li> <li>Each upload can be split into max  10,000 parts</li> <li>Each part can range between 5 MB to 5 GB</li> <li>Each part even if it fails. can be reuploaded individually</li> </ul>"},{"location":"services/S3/1-S3Basics/#s3-transfer-acceleration","title":"S3 Transfer Acceleration","text":"<ul> <li>Uses network of Edge locations</li> <li>S3 bucket needs to be enabled for transfer acceleration</li> <li>Bucket name can not contain periods, needs to be dns compatible</li> <li>Data first gets uploaded to the nearest Edge location. Edge locations transfer data over AWS global network which is very fast</li> </ul>"},{"location":"services/S3/2-S3ServerSideEnvryption/","title":"Server Side Encryption","text":"<ul> <li>S3 buckets are not encrypted, objects are</li> <li>Each object in a bucket might be using different encryption settings</li> </ul>"},{"location":"services/S3/2-S3ServerSideEnvryption/#encryption-at-rest","title":"Encryption At Rest","text":""},{"location":"services/S3/2-S3ServerSideEnvryption/#client-side-encryption","title":"Client Side Encryption","text":"<ul> <li>The objects are encrypted by client &amp; S3 receives the encrypted data</li> <li>S3 never sees the unencrypted version</li> </ul>"},{"location":"services/S3/2-S3ServerSideEnvryption/#server-side-encryption_1","title":"Server Side Encryption","text":"<ul> <li>S3 takes the unencrypted versions. Then it encrypts &amp; saves encrypted objects</li> <li>SSE-C - Customer Provided Keys<ul> <li>Key is provided by Customer</li> <li>Encryption happens on AWS. </li> <li>Encrypted Object &amp; Hash of the key used for encryption is stored in S3. The key itself is destroyed.</li> <li>To decrypt the Key used to encrypt needs to be provided. S3 validates it against hash &amp; then returns decrypted object.</li> </ul> </li> <li>SSE-S3 - Amazon S3 Managed Keys ( Default)<ul> <li>Client only provides the object.</li> <li>S3 generates key for every object it encrypts.</li> <li>Client has no control over Creation, Management or Rotation of keys. Its entirely managed by S3</li> <li>Each of the key is encrypted by using another key &amp; encrypted object , key are stored together</li> <li>The downside is role sepeation is not possible. Anybody who has access to creation of keys i.e. Full S3 Administrator can encrypt or decrypt data</li> </ul> </li> <li>SSE-KMS - KMS Managed Keys<ul> <li>Here instead of S3, KMS managed key is used</li> <li>S3 requests a new DEK to be generated using a KMS key</li> <li>KMS returns plaintext &amp; ciphertext version of DEK</li> <li>S3 uses plaintext DEK to encrypt the data &amp; then discards the plaintext key</li> <li>Encrypted data &amp; ciphertext DEK is stored.</li> <li>If S3 Administrator does not have access to KMS key, he can't decrypt S3 objects. This way role seperation can be achieved.</li> </ul> </li> </ul>"},{"location":"services/S3/2-S3ServerSideEnvryption/#encryption-types-summary","title":"Encryption Types Summary","text":"Method Key Management Encryption Responsibility Comments Client Side User User Plain text version never seen by AWS SSE - C User S3 - SSE - S3 S3 S3 No control over Key lifecycle, no role seperation SSE - KMS KMS S3 Role Seperation.Key Lifecycle Control"},{"location":"services/S3/2-S3ServerSideEnvryption/#bucket-keys","title":"Bucket Keys","text":"<ul> <li>The GenerateDEK opeation can only be run  5500, 10000 or 50,000 times per second depending upon the region. This throttles number of objects you can encrypt with DEKs that are generated by single KMS key</li> <li>In case of Bucket Keys - KMS generates a time limited Bucket key, which is given to S3.</li> <li>This Bucket Key is used to generate DEKs for all objects within that bucket</li> </ul>"},{"location":"services/S3/3-ObjectstorageClasses/","title":"Object Storage Classes","text":""},{"location":"services/S3/3-ObjectstorageClasses/#s3-stanard","title":"S3 Stanard","text":"<ul> <li>This is the default storage class. This is also most balanced class</li> <li>The objects are by default stored across 3 availability zones. This provides 11 9s of durability</li> <li>Billing<ul> <li>GB/month storage fee</li> <li>$/GB for data transfer out</li> <li>No charge for data transfer in</li> <li>Charge per 1000 requests</li> </ul> </li> <li>Data access is immediately, with 1st byte response in milliseconds</li> </ul>"},{"location":"services/S3/3-ObjectstorageClasses/#s3-stanard-ia-infrequent-access","title":"S3 Stanard IA (Infrequent Access)","text":"<ul> <li>Data replication is same as Stanard i.e. 3 AZ</li> <li>Latency is same</li> <li>Storage costs are much more cheaper ( nearly 50% cheaper)</li> <li>It has retrieval fee per GB in addition to data transfer fee</li> <li>However long you store objects, minimum billed duration is 30 days</li> <li>Minimum billed size is 128kb irrespective of how small object is</li> <li>Dont use it for short lived objects or very frequently accessed objects or very small objects</li> </ul>"},{"location":"services/S3/3-ObjectstorageClasses/#s3-one-zone-ia","title":"S3 One Zone IA","text":"<ul> <li>Retrieval fee, minimum storage duration &amp; minimum 128 kb size are all same as Stanard IA</li> <li>Data is stored in only 1 AZ. No replication</li> <li>Use for Long lived infrequently access but easily replaced data. </li> </ul>"},{"location":"services/S3/3-ObjectstorageClasses/#s3-glacier-instant","title":"S3 Glacier Instant","text":"<ul> <li>Access to data is instant</li> <li>Minimum storage duration charge of 90 days</li> <li>Data replicated in 3 AZ</li> </ul>"},{"location":"services/S3/3-ObjectstorageClasses/#s3-glacier-flexible-retrieval","title":"S3 Glacier Flexible Retrieval","text":"<ul> <li>Storage cost is about 1/6th of S3 Standard</li> <li>40 Kb minimum retrieval size &amp; 90 days minimum billable duration</li> <li>Objects aren't instantly available. Hence they cant be made public</li> <li>To retrieve objects a special job needs to be run</li> <li>When objects are retrieved they are stored temporarily in S3 Standard IA class</li> <li>Retrieval jobs are of 3 types<ul> <li>Expedieted - Data becomes available in 1 to 5 minutes. Most expensive</li> <li>Standard - Data becomes available in 3 to 5 hours. Cheaper</li> <li>Bulk - Data becomes available in 5 to 12 hours. Cheapest</li> </ul> </li> </ul>"},{"location":"services/S3/3-ObjectstorageClasses/#s3-glacier-deep-archive","title":"S3 Glacier Deep Archive","text":"<ul> <li>Cheapest class for storage</li> <li>Objects have 40 kb minumum billable size &amp; 180 days minumum billable duration</li> <li>Standard retrieval jobs take 12 hours &amp; bulk jobs take upto 48 hours</li> </ul>"},{"location":"services/S3/3-ObjectstorageClasses/#s3-intelligent-tiering","title":"S3 Intelligent Tiering","text":"<ul> <li>Consists of 5 tiers - Frequent Access ,Infrequent Access, Archive Instant Access, Archive Access, Deep Archive</li> <li>Object access is monitored &amp; is moved between tiers automatically</li> <li>Frequently accessed objects are in frequent access tier</li> <li>If not accessed for 30 days - Infrequent Access</li> <li>If not accessed for 90 days - Archive Instant</li> <li>90 - 270 days - Archive Access</li> <li>180 to 730 days - Deep Archive</li> <li>Instead of retrieval cost there is monitoring &amp; automation cost per 1000 objects</li> </ul>"},{"location":"services/S3/4-S3Misc/","title":"Miscallaneous","text":""},{"location":"services/S3/4-S3Misc/#s3-lifecycle-configuration","title":"S3 Lifecycle Configuration","text":"<ul> <li>For lifecycle transition an object in S3 Standard has to be there for duration of 30 days before it can be moved to other storage classes using a transition rule</li> <li>One can manually move the object to other classes at any point of time</li> </ul>"},{"location":"services/S3/4-S3Misc/#transition-actions","title":"Transition Actions","text":""},{"location":"services/S3/4-S3Misc/#expiration-actions","title":"Expiration Actions","text":""},{"location":"services/S3/4-S3Misc/#s3-replication","title":"S3 Replication","text":""},{"location":"services/S3/4-S3Misc/#srr","title":"SRR","text":"<ul> <li>Both the source &amp; destination buckets are in the same region</li> </ul>"},{"location":"services/S3/4-S3Misc/#crr","title":"CRR","text":"<ul> <li>Source &amp; Destination buckets are in different regions</li> </ul>"},{"location":"services/S3/4-S3Misc/#common-configurations","title":"Common configurations","text":"<ul> <li>Replication configuration is applied to source bucket</li> <li>Configuration consists of a destination bucket &amp; an IAM role that is used to perform replication</li> <li>IAM role's Trust policy allows it to be assumed by  S3 service</li> <li>Role' permission policy allows it to read from source bucket &amp; replicate into destination bucket</li> <li>In case of different aws account replication, the IAM role is by default not trusted by the destination S3 , since its in a different account.Hence a bucket policy is added to destionation bucket that allows this IAM role permissions to write or replicate into the destination bucket</li> <li>The default configurations replicate all objects, the storage class is same as source bucket &amp; the owner is the source account. That means the destination account by default can not access replicated bucket</li> <li>By default replication is not retroactive i.e. it replicates all objects that point onwards. Deletes are not replicated by default</li> <li>Versioning has to be ON for both source &amp; destination bucket for replication to work</li> <li>RTC(Replication Time Control) provides guranteed 15 minutes replication SLA</li> <li>System events or LifeCycle Events, Glacier or Glacier Deep Archive are not replicated</li> </ul>"},{"location":"services/S3/4-S3Misc/#s3-select-select-glacier","title":"S3 Select &amp; Select Glacier","text":"<ul> <li>You can create SQL like statements to select part of an object</li> <li>This can operate on csv,json,parquet, bzip2 compressed csv or json</li> </ul>"},{"location":"services/S3/4-S3Misc/#s3-event-notification","title":"S3 Event Notification","text":"<ul> <li>When configured, notifications are generated when events occur in a bucket</li> <li>The destinations could be SNS,SQS or a Lambda function</li> </ul>"},{"location":"services/S3/4-S3Misc/#s3-access-logs","title":"S3 Access logs","text":""},{"location":"services/S3/4-S3Misc/#s3-object-lock","title":"S3 Object Lock","text":"<ul> <li>Can be enabled on new buckets. In order to enable it on existing buckets, need to contact aws support</li> <li>Any bucket with Object lock enabled also has versioning enabled</li> <li>Write Once Read Many i.e. No Deletes or Overwrite allowed</li> <li>An object can have Retention Period &amp; Legal Hold</li> </ul>"},{"location":"services/S3/4-S3Misc/#retention-period-object-lock","title":"Retention Period Object Lock","text":"<ul> <li>Specify retention period in days or years while creating object lock</li> <li>If retention period is applied using compliance mode , object verion can not be adjusted, deleted or overwritten during the retention period. Also retention period can not be reduced or retention mode can not be changed during retention period</li> <li>Governance mode - Here special permissions can be granted to special identities to adjust lock settings</li> <li>s3:BypassGovernanceRetention permission as well as x-amz-bypass-governance-retention:true header are required to adjust lock settings</li> </ul>"},{"location":"services/S3/4-S3Misc/#legal-hold-object-lock","title":"Legal Hold Object Lock","text":"<ul> <li>Can be set ON or OFF on object version</li> <li>Prevent accidental  deletion or actually put a legal hold </li> </ul>"},{"location":"services/S3/4-S3Misc/#s3-access-points","title":"S3 Access Points","text":"<ul> <li>Access points allow to split an S3 bucket into smaller units</li> <li>Different access points can have different policies for access control</li> <li>Each access point can have different network access controls</li> <li>Each access point as different endpoint accesss</li> </ul>"},{"location":"services/VPC/1-Basics/","title":"Basics","text":"<ul> <li>VPC is a virtual network created within an account &amp; a region</li> <li>Default VPCs are created by AWS, one per region &amp; come with specific configurations</li> <li>Custom VPCs by default is private &amp; isolated from other VPCs, AWS public services as well as public internet</li> <li>VPC CIDR defines range of IP addresses that VPC occupiesis</li> <li>Default VPC CIDR is always 172.31.0.0/16</li> <li>A VPC is divided into Subnets. Each subnet is located in one AZ.</li> <li>The AZ of Subnet is defined at time of creation &amp; can never be changed</li> <li>Default VPC has 1 subnet in each AZ. The CIDR</li> </ul>"},{"location":"services/VPC/1-Basics/#points-about-default-vpc","title":"Points about Default VPC","text":"<ul> <li>One per region , can be removed &amp; recreated.</li> <li>While one can delete default VPC from a region, certain AWS services assume presence of Default VPC. Hence its best to have one even if you dont use it.</li> <li>A default VPC has a /16 CIDR while each subnet has /20 CIDR</li> <li>Default VPC comes pre configured with an Internet Gateway, Security Group &amp; NACL</li> <li>Anything that is provisioned in any subnet in default VPC, subnets assign it a public IPv4 address. This is unique to default VPC</li> </ul>"},{"location":"services/VPC/2-Sizing/","title":"Sizing &amp; Structure","text":"<ul> <li>A smallest VPC can be /28 i.e. 16 IP network &amp; largest VPC can be /16 i.e. 65536 IP network</li> <li>Each time the prefix is increased by n, it creastes 2^n networks. <ul> <li>/16 + 1 = /17. Hence networks = 2^1 = 2</li> <li>/16 + 2 = /18. Hence networks = 2^2 = 4</li> <li>/16 + 4 = /20. Hence networks = 2^4 = 16</li> </ul> </li> <li>Each VPC has 1 primary private IPV4 CIDR block</li> <li>Optional upto 5 secondary private IPV4 CIDR blocks. The number can be increased with a support ticket</li> <li>Optional single IPV6/56 CIDR block  </li> </ul>"},{"location":"services/VPC/3-VPCDesign/","title":"VPC Design","text":"<ul> <li>VPCs are regionally isolated &amp; regionally resilient service</li> <li>Its an isolated network with nothing allowed IN &amp; OUT without explicit permissions</li> <li>While creating VPC one can select tenancy<ul> <li>Default tenancy means resources are on shared hardware.</li> <li>With default tenancy, one can change it on per resource basis</li> <li>Dedicated tenancy means resources are on dedicated hardware.</li> <li>Once dedicated tenancy is used, it can't be changed back to default</li> </ul> </li> <li>VPC has fully featured DNS provided by Route 53</li> <li>The DNS is available on IP Address = Base IP Address of VPC + 2</li> <li>Options in VPC related to DNS<ul> <li>enableDnsHostNames - gives instances DNS names</li> <li>enableDnsSupport - enables DNS resolution in VPC</li> </ul> </li> </ul>"},{"location":"services/VPC/4-Subnets/","title":"Subnets","text":""},{"location":"services/VPC/4-Subnets/#basics","title":"Basics","text":"<ul> <li>In Diagrams Blue - Private Subnets, Green - Public Subnets</li> <li>Subnet is a part of a VPC created in one AZ. This assigned AZ can not be changed</li> <li>Subnet CIDR has to be within the VPC CIDR range</li> <li>A Subnet's CIDR can not overlap with CIDR of other Subnet within the VPC</li> <li>A Subnet can be optionally allocated an IPV6 CIDR which is a /64 CIDR</li> <li>Subnets by default can communicate with other Subnets in the same VPC</li> <li>5 IP addresses with a Subnet are reserved<ul> <li>First address of any Subnet represents the network</li> <li>N/W + 1 address is used by VPC router</li> <li>N/W + 2 is for DNS</li> <li>N/W + 3 not used. Reserved for future use</li> <li>Last IP address of every Subnet is reserved as Broadcast Address</li> </ul> </li> <li>Subnet has options to Auto Assign IPV4 public addresses and IPV6 addresses</li> </ul>"},{"location":"services/VPC/5-VPCRouting/","title":"VPC Routing","text":"<ul> <li>VPC Router is present at N/W + 1 IP address by default. It is highly available &amp; is present in all the AZs of your VPC</li> <li>Route table associated with each Subnet influences what VPC router does</li> <li>A Subnet by default uses main route table of the VPC. A Subnet can have only one route table associated at one time. Same route table can be used by multiple Subnets</li> <li>A route table decides what happens to traffic when it leaves a Subnet</li> </ul>"},{"location":"services/VPC/5-VPCRouting/#internet-gateway","title":"Internet Gateway","text":"<p>TBD</p>"},{"location":"services/VPC/5-VPCRouting/#bastion-hosts","title":"Bastion Hosts","text":"<ul> <li>Bastion Host = Jump Box</li> <li>Its an instance in a public subnet</li> <li>Used to allow incoming management connections</li> <li>Entry point for private only VPCs</li> </ul>"},{"location":"services/VPC/6-IGW/","title":"Internet Gareway","text":"<ul> <li>Regionally resilient i.e. One IGW per region is sufficient for all AZs within that region</li> <li>A VPC can have either 0 or 1 IGW. Similarly an IGW can belong to 0 or 1 VPC</li> <li>IGW is what allows services inside a VPC with public IPV4 address or IPV6 to be reached from Internet</li> <li>IGW is what allows to connect to AWS Public Zone or Internet</li> <li>Process of using IGW<ul> <li>Create IGW</li> <li>Attach IGW to VPC</li> <li>Create custom route table &amp; associate with subnet that needs to be accessible from internet</li> <li>Add default IPV4 and if required IPV6 default routes to RT with target being IGW</li> <li>Configure subnets to allocate IPV4 public IP address &amp; if required IPV6 addresses by default</li> </ul> </li> <li>A public IPV4 address is never acutally physically assigned to the service they are being assigned to,</li> <li>Instead a record is created in IGW that map IPV4 private address with IPV4 public address. It is is IGW which does the translation between 2 when required</li> <li>E.g. IF an EC2 instance is allocated a public IPV4 address, inside the OS on that instance, the awareness of public IP address is not there.</li> <li>Hence Route Table with default route pointing to IGW, the mapping between Public &amp; Private IP in IGW &amp; IGW overwritting Private &amp; Public IP address with each other when required is what makes Public IPV4 routing works</li> </ul>"},{"location":"services/VPC/7-NACL/","title":"Network Accesss Control Lists","text":"<ul> <li>NACLs are associated with Subnets. NACLs are stateless.</li> <li>Every Subnet has an associated NACL. It filters data that crosses boundary of the Subnet</li> <li>Connections within the Subnet are not effected by NACLs</li> <li>NACLs are stateless i.e. they dont know whether traffic is a request or response. They only know whether it is inbound or outbound.</li> <li>The default NACLs in a a VPC have an impicity deny &amp;  also an allow ALL rule. In effect NACLs allow all traffic by default hence default NACLs have no effect</li> <li>The custom NACLs though by default have one implicit deny rule for both inbound &amp; outbound traffic. By default a custom NACL is not associated with any Subnet</li> <li>NACLs do not recognize any logical resources. They can be only assigned to Subnets</li> <li>NACLs are often used to explicitly deny traffic to bad IPs/Networks. </li> <li>Generally Security Groups are used to allow traffic &amp; NACLs to deny traffic</li> <li>A Subnet can have only one NACL associated either default or a custom one at any point of time</li> <li>Same NACL can be associated with multiple Subnets</li> </ul>"},{"location":"services/VPC/8-SecurityGroups/","title":"Security Groups","text":"<ul> <li>Security Groups are stateful. If a request is allowed corresponding response is automatically allowed</li> <li>Security Groups do not have an explicit Deny</li> <li>Cant be used to block a specific bad actor. Which is where NACLs will come into picture</li> <li>Seccurity Groups are not attached to instances or to Subnets. They are attached to Elastic Network Interfaces (ENIs)</li> <li>Security Groups can refer to logical resources</li> <li>When you reference a SG(SG1) from any other SG(SG2), you are actually referencing any resources that are associated with SG1.</li> <li>Logical references allow self referencing</li> </ul>"},{"location":"services/VPC/9-NATGateways/","title":"NAT Gateways","text":"<ul> <li>NAT - Network Address Translation</li> <li>IGW is example of a static NAT</li> <li>IP Masquarading - This is a type of NAT where by a CIDR block is hidden behind a single IP address</li> <li>IP Masquarading gives a bunch of Private IP addresses outgoing internet access</li> <li>Private devices that use can initiate outbound internet connections, can receive responses but they can not receive inbound network connections</li> <li>NAT Gateway needs a public IPV4 address. Hence it runs in a public Subnet.It uses Elastic IPs.</li> <li>It is not a Regionally resilient service. They are AZ resilient Service. For full regional resilience, 1 NAT Gateway needs to be provisioned in each AZ aldon with a Route Table per AZ.</li> <li>NAT Gateways are a managed service. They have both an hourly fixed charge as well as data transfer charges</li> <li>NAT instance can be significantly cheaper at high volumes of data.</li> <li>One can use NAT Instances as Bastion hosts or for port fowarding</li> <li>NAT Gateays dont support Security Groups. You can only use NACLs. But with NAT instances you can use both</li> <li>NAT is not required for IPV6 as in AWS all IPV6 addresses are publicly routable.</li> </ul>"}]}